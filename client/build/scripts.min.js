function validarMaxMin(e){var o=document.querySelectorAll('[data-message-for="'+e.id+'"]')[0];if(o){o.innerText="";var t=e.getAttribute("min"),r=e.getAttribute("max"),a=e.value;t&&a<t&&(o.innerText=" o valor não pode ser menor que "+t),r&&a>r&&(o.innerText=" o valor não pode ser maior que "+r)}}function validarMaxMinLength(e){var o=document.querySelectorAll('[data-message-for="'+e.id+'"]')[0];if(console.log("Validanting MaxMinLength: ",e),o){o.innerText="";var t=e.getAttribute("minlength"),r=e.getAttribute("maxlength"),a=(e.value||"").length;t&&a<t&&(o.innerText=" o comprimento não pode ser menor que "+t),r&&a>r&&(o.innerText=" o comprimento não pode ser maior que "+r)}}function clickUpload(e){var o=document.querySelector(e);o.focus(),o.click()}function fileChange(e){var o=parseFloat((e.files[0].size||"")/1024/1024).toFixed(2);document.querySelector("#file-surrogate").value=(e.files[0].name||"")+" - "+o+"MB";var t=document.querySelectorAll('[data-message-for="'+e.id+'"]')[0];t&&(t.innerText="",o>3&&t&&(t.innerText="o arquivo é maior que 3MB"))}function validarCPF(e){var o,t;if(o=0,"00000000000"==e)return!1;for(i=1;i<=9;i++)o+=parseInt(e.substring(i-1,i))*(11-i);if(t=10*o%11,10!=t&&11!=t||(t=0),t!=parseInt(e.substring(9,10)))return!1;for(o=0,i=1;i<=10;i++)o+=parseInt(e.substring(i-1,i))*(12-i);return t=10*o%11,10!=t&&11!=t||(t=0),t==parseInt(e.substring(10,11))}function cpfKeyUp(e){var o=document.querySelectorAll('[data-message-for="'+e.id+'"]')[0];if(o){o.innerText="";var t=(e.value||"").trim().replace("-","");console.log("cpfStr: ",t);var r=validarCPF(t),a=/^\d+$/.test(t);!t||r&&a||(console.log("CPF is invalid"),o&&(o.innerText="CPF inválido"))}}function validaEmail(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test((e||"").trim())}function emailKeyDown(e){var o=document.querySelectorAll('[data-message-for="'+e.id+'"]')[0];o&&(o.innerText="");var t=(e.value||"").trim();t&&!validaEmail(t)&&(console.log("Email is invalid"),o&&(o.innerText="email inválido"))}function confirmaEmail(){var e=document.querySelector("#Email").value,o=document.querySelector("#ConfirmeEmail").value;return e.toLocaleLowerCase()==o.toLocaleLowerCase()}function confirmaEmailOnBlur(e){var o=document.querySelectorAll('[data-message-for="'+e.id+'"]')[0];o&&(o.innerText=""),confirmaEmail()||o&&(o.innerText="o e-mail e a confirmação devem ser iguais.")}function cepFocus(){console.log("cepFocus: ")}function cepBlur(){console.log("cepBlur: ")}function getEndereco(e){function o(e){function o(e,o){var t=document.querySelector(e);t&&(t.value=o)}if(t&&(t.innerText=""),e.readyState===XMLHttpRequest.DONE&&200===e.status){console.log(e.responseText);var r=JSON.parse(e.responseText);o("#Endereco",r.logradouro),r.complemento&&o("#Complemento",r.complemento),r.bairro&&o("#Bairro",r.bairro),o("#Cidade",r.localidade),o("#UF",r.uf),document.querySelectorAll(".cep-wrap .loading.not-found")[0].classList.add("hidden"),document.querySelectorAll(".cep-wrap .loading.searching")[0].classList.add("hidden"),document.querySelectorAll(".cep-wrap .loading.valida-ok")[0].classList.remove("hidden")}else document.querySelectorAll(".cep-wrap .loading.not-found")[0].classList.remove("hidden"),document.querySelectorAll(".cep-wrap .loading.searching")[0].classList.add("hidden"),document.querySelectorAll(".cep-wrap .loading.valida-ok")[0].classList.add("hidden"),t.innerText=" o cep não foi encontrado."}document.querySelectorAll(".cep-wrap .loading.searching")[0].classList.remove("hidden"),document.querySelectorAll(".cep-wrap .loading.not-found")[0].classList.add("hidden"),document.querySelectorAll(".cep-wrap .loading.valida-ok")[0].classList.add("hidden");var t=document.querySelectorAll('[data-message-for="CEP"]')[0];t&&(t.innerText="");var r="https://viacep.com.br/ws/"+e+"/json/",a=new XMLHttpRequest;return a.open("GET",r,!0),a.setRequestHeader("Content-Type","application/json"),a.onreadystatechange=o.bind(null,a),a.send(),a}function validarData(e){var o=e.replace(/\D/g,"-");if(/^\d\d[\\-]\d\d[\\-]\d\d\d\d$/.test(o)&&(o=o.split("-").reverse().join("-")),/^\d\d\d\d[\\-]\d\d[\\-]\d\d$/.test(o)){var t=new Date(dateStr);return t instanceof Date&&isFinite(t)}}function DataNascKeyUp(e){var o=document.querySelectorAll('[data-message-for="'+e.id+'"]')[0];o&&(o.innerText=""),validarData(e.value)||o&&(o.innerText=" data inválida.")}function onFormSubmit(){var e="";document.querySelectorAll(".form-messages")[0].innerText="";var o=document.getElementById("Nome");(o.value||"").length<o.getAttribute("minlength")&&(e="Favor corrigir os campos inválidos");var t=document.getElementById("Sobrenome");(t.value||"").length<t.getAttribute("minlength")&&(e="Favor corrigir os campos inválidos");var r=document.querySelectorAll('[name="Genero"]:checked');r.length&&r[0].value||""||(e="O campo Gênero é obrigatório.");var a=document.getElementById("DataNascimento"),n=(a.value,document.getElementById("Email")),i=n.value||"";document.getElementById("ConfirmeEmail").value;document.getElementById("Celular").value||""||(e="O campo Celular é obrigatório");var l=(document.getElementById("Telefone").value,document.getElementById("CPF")),d=(l.value||"").trim().replace("-",""),c=validaEmail(i),u=validarCPF(d);c&&confirmaEmail()&&u||(e="Favor corrigir os campos inválidos"),d||(e="O campo CPF é obrigatório"),document.getElementById("CEP").value||""||(e="O campo CEP é obrigatório"),document.getElementById("Endereco").value||""||(e="O campo Endereço é obrigatório"),document.getElementById("Numero").value||""||(e="O campo Número é obrigatório");document.getElementById("Complemento").value;document.getElementById("Bairro").value||""||(e="O campo Bairro é obrigatório"),document.getElementById("Cidade").value||""||(e="O campo Cidade é obrigatório"),document.getElementById("UF").value||""||(e="O campo UF é obrigatório");document.getElementById("Anexo").files[0];""==e?(document.querySelector("#cadastro-usuario").submit(),alert("Formulário salvo com sucesso!")):document.querySelectorAll(".form-messages")[0].innerText=e}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJ2YWxpZGFyTWF4TWluIiwiZWxlbWVudCIsIm1zZ0VsZW1lbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpZCIsImlubmVyVGV4dCIsIm1pbiIsImdldEF0dHJpYnV0ZSIsIm1heCIsInZhbHVlIiwidmFsaWRhck1heE1pbkxlbmd0aCIsImNvbnNvbGUiLCJsb2ciLCJsZW5ndGgiLCJjbGlja1VwbG9hZCIsImVsZW1lbnRJZCIsImVsIiwicXVlcnlTZWxlY3RvciIsImZvY3VzIiwiY2xpY2siLCJmaWxlQ2hhbmdlIiwiZmlsZUVsZW1lbnQiLCJmaWxlU2l6ZSIsInBhcnNlRmxvYXQiLCJmaWxlcyIsInNpemUiLCJ0b0ZpeGVkIiwibmFtZSIsInZhbGlkYXJDUEYiLCJzdHJDUEYiLCJTb21hIiwiUmVzdG8iLCJpIiwicGFyc2VJbnQiLCJzdWJzdHJpbmciLCJjcGZLZXlVcCIsImNwZlN0ciIsInRyaW0iLCJyZXBsYWNlIiwiY2ZwSXNWYWxpZCIsImNmcE5vbWVyaWNvIiwidGVzdCIsInZhbGlkYUVtYWlsIiwiZW1haWxTdHIiLCJlbWFpbEtleURvd24iLCJjb25maXJtYUVtYWlsIiwiZW1haWxWYWx1ZSIsImVtYWlsQ29uZmlybWFWYWx1ZSIsInRvTG9jYWxlTG93ZXJDYXNlIiwiY29uZmlybWFFbWFpbE9uQmx1ciIsImNlcEZvY3VzIiwiY2VwQmx1ciIsImdldEVuZGVyZWNvIiwiY2VwIiwic2V0Q0VQRGF0YVZhbHVlIiwieGhyIiwic2V0RmllbGRWYWx1ZSIsImZpZWxkSWQiLCJuZXdWYWx1ZSIsInJlYWR5U3RhdGUiLCJYTUxIdHRwUmVxdWVzdCIsIkRPTkUiLCJzdGF0dXMiLCJyZXNwb25zZVRleHQiLCJkYXRhIiwiSlNPTiIsInBhcnNlIiwibG9ncmFkb3VybyIsImNvbXBsZW1lbnRvIiwiYmFpcnJvIiwibG9jYWxpZGFkZSIsInVmIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwiY2VwVVJMIiwib3BlbiIsInNldFJlcXVlc3RIZWFkZXIiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJiaW5kIiwic2VuZCIsInZhbGlkYXJEYXRhIiwiZGF0YVZhbCIsImRhdGFTdHIiLCJzcGxpdCIsInJldmVyc2UiLCJqb2luIiwiRGF0ZSIsImRhdGVTdHIiLCJpc0Zpbml0ZSIsIkRhdGFOYXNjS2V5VXAiLCJvbkZvcm1TdWJtaXQiLCJlcnJvck1lc3NhZ2VzIiwibm9tZUVsIiwiZ2V0RWxlbWVudEJ5SWQiLCJzb2JyZW5vbWVFbCIsImdlbmVyb0VscyIsImRhdGFOYXNjaW1lbnRvRWwiLCJFbWFpbEVsIiwiRW1haWxWYWwiLCJDUEZFbCIsIkNGUFZhbCIsImVtYWlsSXNWYWxpZCIsImNwZklzVmFsaWQiLCJzdWJtaXQiLCJhbGVydCJdLCJtYXBwaW5ncyI6IkFBQUEsUUFBQUEsZUFBQUMsR0FDQSxHQUFBQyxHQUFBQyxTQUFBQyxpQkFBQSxzQkFBQUgsRUFBQUksR0FBQSxNQUFBLEVBRUEsSUFBQUgsRUFBQSxDQUNBQSxFQUFBSSxVQUFBLEVBQ0EsSUFBQUMsR0FBQU4sRUFBQU8sYUFBQSxPQUNBQyxFQUFBUixFQUFBTyxhQUFBLE9BQ0FFLEVBQUFULEVBQUFTLEtBRUFILElBQUFHLEVBQUFILElBQ0FMLEVBQUFJLFVBQUEsbUNBQUFDLEdBRUFFLEdBQUFDLEVBQUFELElBQ0FQLEVBQUFJLFVBQUEsbUNBQUFHLElBS0EsUUFBQUUscUJBQUFWLEdBQ0EsR0FBQUMsR0FBQUMsU0FBQUMsaUJBQUEsc0JBQUFILEVBQUFJLEdBQUEsTUFBQSxFQUVBLElBREFPLFFBQUFDLElBQUEsNkJBQUFaLEdBQ0FDLEVBQUEsQ0FDQUEsRUFBQUksVUFBQSxFQUNBLElBQUFDLEdBQUFOLEVBQUFPLGFBQUEsYUFDQUMsRUFBQVIsRUFBQU8sYUFBQSxhQUNBRSxHQUFBVCxFQUFBUyxPQUFBLElBQUFJLE1BRUFQLElBQUFHLEVBQUFILElBQ0FMLEVBQUFJLFVBQUEseUNBQUFDLEdBRUFFLEdBQUFDLEVBQUFELElBQ0FQLEVBQUFJLFVBQUEs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R0FDQUksRUFBQTNFLFdBQUF5RSxFQUNBQyxJQUFBekQsaUJBQUEwRCxJQUNBWCxFQUFBLHNDQUNBUyxJQUNBVCxFQUFBLDZCQUVBMUYsU0FBQTRGLGVBQUEsT0FDQXJGLE9BQUEsS0FFQW1GLEVBQUEsNkJBR0ExRixTQUFBNEYsZUFBQSxZQUNBckYsT0FBQSxLQUVBbUYsRUFBQSxrQ0FFQTFGLFNBQUE0RixlQUFBLFVBQ0FyRixPQUFBLEtBRUFtRixFQUFBLCtCQUVBMUYsVUFBQTRGLGVBQUEsZUFBQXJGLEtBQ0FQLFVBQUE0RixlQUFBLFVBQ0FyRixPQUFBLEtBRUFtRixFQUFBLGdDQUVBMUYsU0FBQTRGLGVBQUEsVUFDQXJGLE9BQUEsS0FFQW1GLEVBQUEsZ0NBRUExRixTQUFBNEYsZUFBQSxNQUNBckYsT0FBQSxLQUVBbUYsRUFBQSwyQkFFQTFGLFVBQUE0RixlQUFBLFNBQUF0RSxNQUFBLEVBRUEsS0FBQW9FLEdBQ0ExRixTQUFBZSxjQUFBLHFCQUFBdUYsU0FDQUMsTUFBQSxrQ0FFQXZHLFNBQUFDLGlCQUFBLGtCQUFBLEdBQUFFLFVBQUF1RiIsImZpbGUiOiJzY3JpcHRzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIHZhbGlkYXJNYXhNaW4oZWxlbWVudCl7XHJcbiAgICB2YXIgbXNnRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLW1lc3NhZ2UtZm9yPVwiJyArIGVsZW1lbnQuaWQgKyAnXCJdJylbMF07XHJcbiAgICBcclxuICAgIGlmKG1zZ0VsZW1lbnQpe1xyXG4gICAgICAgIG1zZ0VsZW1lbnQuaW5uZXJUZXh0ID0gJyc7XHJcbiAgICAgICAgdmFyIG1pbiA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdtaW4nKTtcclxuICAgICAgICB2YXIgbWF4ID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ21heCcpOyAgICAgICAgXHJcbiAgICAgICAgdmFyIHZhbHVlID0gZWxlbWVudC52YWx1ZTtcclxuICAgICAgICBcclxuICAgICAgICBpZihtaW4gJiYgKHZhbHVlIDwgbWluKSApe1xyXG4gICAgICAgICAgICBtc2dFbGVtZW50LmlubmVyVGV4dCA9ICcgbyB2YWxvciBuw6NvIHBvZGUgc2VyIG1lbm9yIHF1ZSAnICsgbWluO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihtYXggJiYgKHZhbHVlID4gbWF4KSl7XHJcbiAgICAgICAgICAgIG1zZ0VsZW1lbnQuaW5uZXJUZXh0ID0gJyBvIHZhbG9yIG7Do28gcG9kZSBzZXIgbWFpb3IgcXVlICcgKyBtYXg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiB2YWxpZGFyTWF4TWluTGVuZ3RoKGVsZW1lbnQpe1xyXG4gICAgdmFyIG1zZ0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1tZXNzYWdlLWZvcj1cIicgKyBlbGVtZW50LmlkICsgJ1wiXScpWzBdO1xyXG4gICAgY29uc29sZS5sb2coJ1ZhbGlkYW50aW5nIE1heE1pbkxlbmd0aDogJywgZWxlbWVudCk7XHJcbiAgICBpZihtc2dFbGVtZW50KXtcclxuICAgICAgICBtc2dFbGVtZW50LmlubmVyVGV4dCA9ICcnO1xyXG4gICAgICAgIHZhciBtaW4gPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnbWlubGVuZ3RoJyk7XHJcbiAgICAgICAgdmFyIG1heCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdtYXhsZW5ndGgnKTsgICAgICAgIFxyXG4gICAgICAgIHZhciB2YWx1ZSA9IChlbGVtZW50LnZhbHVlIHx8ICcnKS5sZW5ndGg7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYobWluICYmICh2YWx1ZSA8IG1pbikgKXtcclxuICAgICAgICAgICAgbXNnRWxlbWVudC5pbm5lclRleHQgPSAnIG8gY29tcHJpbWVudG8gbsOjbyBwb2RlIHNlciBtZW5vciBxdWUgJyArIG1pbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYobWF4ICYmICh2YWx1ZSA+IG1heCkpe1xyXG4gICAgICAgICAgICBtc2dFbGVtZW50LmlubmVyVGV4dCA9ICcgbyBjb21wcmltZW50byBuw6NvIHBvZGUgc2VyIG1haW9yIHF1ZSAnICsgbWF4O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGNsaWNrVXBsb2FkKGVsZW1lbnRJZCl7XHJcbiAgICB2YXIgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW1lbnRJZCk7XHJcbiAgICBlbC5mb2N1cygpO2VsLmNsaWNrKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZpbGVDaGFuZ2UoZmlsZUVsZW1lbnQpe1xyXG4gICAgdmFyIGZpbGVTaXplID0gcGFyc2VGbG9hdCgoZmlsZUVsZW1lbnQuZmlsZXNbMF0uc2l6ZSB8fCAnJykvMTAyNC8xMDI0KS50b0ZpeGVkKDIpIDtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmaWxlLXN1cnJvZ2F0ZScpLnZhbHVlID0gKGZpbGVFbGVtZW50LmZpbGVzWzBdLm5hbWUgfHwgJycpICsgJyAtICcgKyBmaWxlU2l6ZSArICdNQic7XHJcbiAgICBcclxuICAgIHZhciBtc2dFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbWVzc2FnZS1mb3I9XCInICsgZmlsZUVsZW1lbnQuaWQgKyAnXCJdJylbMF07XHJcbiAgICBpZihtc2dFbGVtZW50KXtcclxuICAgICAgICBtc2dFbGVtZW50LmlubmVyVGV4dCA9ICcnO1xyXG4gICAgICAgIGlmKGZpbGVTaXplID4gMyl7XHJcbiAgICAgICAgICAgIGlmKG1zZ0VsZW1lbnQpIG1zZ0VsZW1lbnQuaW5uZXJUZXh0ID0gJ28gYXJxdWl2byDDqSBtYWlvciBxdWUgM01CJztcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiB2YWxpZGFyQ1BGKHN0ckNQRikge1xyXG4gICAgdmFyIFNvbWE7XHJcbiAgICB2YXIgUmVzdG87XHJcbiAgICBTb21hID0gMDtcclxuXHRpZiAoc3RyQ1BGID09IFwiMDAwMDAwMDAwMDBcIikgcmV0dXJuIGZhbHNlO1xyXG4gICAgXHJcblx0Zm9yIChpPTE7IGk8PTk7IGkrKykgU29tYSA9IFNvbWEgKyBwYXJzZUludChzdHJDUEYuc3Vic3RyaW5nKGktMSwgaSkpICogKDExIC0gaSk7XHJcblx0UmVzdG8gPSAoU29tYSAqIDEwKSAlIDExO1xyXG5cdFxyXG4gICAgaWYgKChSZXN0byA9PSAxMCkgfHwgKFJlc3RvID09IDExKSkgIFJlc3RvID0gMDtcclxuICAgIGlmIChSZXN0byAhPSBwYXJzZUludChzdHJDUEYuc3Vic3RyaW5nKDksIDEwKSkgKSByZXR1cm4gZmFsc2U7XHJcblx0XHJcblx0U29tYSA9IDA7XHJcbiAgICBmb3IgKGkgPSAxOyBpIDw9IDEwOyBpKyspIFNvbWEgPSBTb21hICsgcGFyc2VJbnQoc3RyQ1BGLnN1YnN0cmluZyhpLTEsIGkpKSAqICgxMiAtIGkpO1xyXG4gICAgUmVzdG8gPSAoU29tYSAqIDEwKSAlIDExO1xyXG5cdFxyXG4gICAgaWYgKChSZXN0byA9PSAxMCkgfHwgKFJlc3RvID09IDExKSkgIFJlc3RvID0gMDtcclxuICAgIGlmIChSZXN0byAhPSBwYXJzZUludChzdHJDUEYuc3Vic3RyaW5nKDEwLCAxMSkgKSApIHJldHVybiBmYWxzZTtcclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG4vL0RlZGljYXRlZCBmdW5jdGlvbnNcclxuZnVuY3Rpb24gY3BmS2V5VXAoZWxlbWVudCl7XHJcbiAgICB2YXIgbXNnRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLW1lc3NhZ2UtZm9yPVwiJyArIGVsZW1lbnQuaWQgKyAnXCJdJylbMF07XHJcbiAgICBpZihtc2dFbGVtZW50KXtcclxuICAgICAgICBtc2dFbGVtZW50LmlubmVyVGV4dCA9ICcnO1xyXG4gICAgICAgIHZhciBjcGZTdHIgPSAoZWxlbWVudC52YWx1ZSB8fCAnJykudHJpbSgpLnJlcGxhY2UoJy0nLCAnJyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2NwZlN0cjogJywgY3BmU3RyKTtcclxuICAgICAgICB2YXIgY2ZwSXNWYWxpZCA9IHZhbGlkYXJDUEYoY3BmU3RyKTtcclxuICAgICAgICB2YXIgY2ZwTm9tZXJpY28gPSAoL15cXGQrJC8udGVzdChjcGZTdHIpKTtcclxuXHJcbiAgICAgICAgaWYoY3BmU3RyICYmICghY2ZwSXNWYWxpZCB8fCAhY2ZwTm9tZXJpY28pICl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDUEYgaXMgaW52YWxpZCcpO1xyXG4gICAgICAgICAgICBpZihtc2dFbGVtZW50KSBtc2dFbGVtZW50LmlubmVyVGV4dCA9ICdDUEYgaW52w6FsaWRvJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiB2YWxpZGFFbWFpbChlbWFpbFN0cil7XHJcbiAgICB2YXIgZW1haWxQYXR0ZXJuID0gL14oKFtePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC87XHJcbiAgICByZXR1cm4gZW1haWxQYXR0ZXJuLnRlc3QoKGVtYWlsU3RyIHx8ICcnKS50cmltKCkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBlbWFpbEtleURvd24oZWxlbWVudCl7XHJcbiAgICB2YXIgbXNnRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLW1lc3NhZ2UtZm9yPVwiJyArIGVsZW1lbnQuaWQgKyAnXCJdJylbMF07XHJcbiAgICBpZihtc2dFbGVtZW50KSBtc2dFbGVtZW50LmlubmVyVGV4dCA9ICcnO1xyXG4gICAgdmFyIGVtYWlsU3RyID0gKGVsZW1lbnQudmFsdWUgfHwgJycpLnRyaW0oKTtcclxuXHJcbiAgICBpZihlbWFpbFN0ciAmJiAhdmFsaWRhRW1haWwoZW1haWxTdHIpICl7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0VtYWlsIGlzIGludmFsaWQnKTtcclxuICAgICAgICBpZihtc2dFbGVtZW50KSBtc2dFbGVtZW50LmlubmVyVGV4dCA9ICdlbWFpbCBpbnbDoWxpZG8nO1xyXG4gICAgfSAgIFxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gY29uZmlybWFFbWFpbCgpe1xyXG4gICAgdmFyIGVtYWlsVmFsdWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjRW1haWwnKS52YWx1ZTtcclxuICAgIHZhciBlbWFpbENvbmZpcm1hVmFsdWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjQ29uZmlybWVFbWFpbCcpLnZhbHVlO1xyXG4gICAgcmV0dXJuIGVtYWlsVmFsdWUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PSBlbWFpbENvbmZpcm1hVmFsdWUudG9Mb2NhbGVMb3dlckNhc2UoKTtcclxuXHJcbn1cclxuXHJcbi8vdGVzdGlvXHJcbmZ1bmN0aW9uIGNvbmZpcm1hRW1haWxPbkJsdXIoZWxlbWVudCl7XHJcbiAgICB2YXIgbXNnRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLW1lc3NhZ2UtZm9yPVwiJyArIGVsZW1lbnQuaWQgKyAnXCJdJylbMF07XHJcbiAgICBpZihtc2dFbGVtZW50KSBtc2dFbGVtZW50LmlubmVyVGV4dCA9ICcnO1xyXG4gICAgaWYoIWNvbmZpcm1hRW1haWwoKSl7XHJcbiAgICAgICAgaWYobXNnRWxlbWVudCkgbXNnRWxlbWVudC5pbm5lclRleHQgPSAnbyBlLW1haWwgZSBhIGNvbmZpcm1hw6fDo28gZGV2ZW0gc2VyIGlndWFpcy4nO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGNlcEZvY3VzKCl7XHJcbiAgICBjb25zb2xlLmxvZygnY2VwRm9jdXM6ICcpO1xyXG4gICAgLy9kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2VwLXdyYXAgLmxvYWRpbmcnKVswXS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxufVxyXG5mdW5jdGlvbiBjZXBCbHVyKCl7XHJcbiAgICBjb25zb2xlLmxvZygnY2VwQmx1cjogJyk7XHJcbiAgICAvL2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jZXAtd3JhcCAubG9hZGluZycpWzBdLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEVuZGVyZWNvKGNlcCApe1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNlcC13cmFwIC5sb2FkaW5nLnNlYXJjaGluZycpWzBdLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpOyBcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jZXAtd3JhcCAubG9hZGluZy5ub3QtZm91bmQnKVswXS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsgICAgICAgICAgIFxyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNlcC13cmFwIC5sb2FkaW5nLnZhbGlkYS1vaycpWzBdLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG5cclxuICAgIFxyXG4gICAgdmFyIG1zZ0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1tZXNzYWdlLWZvcj1cIkNFUFwiXScpWzBdO1xyXG4gICAgaWYobXNnRWxlbWVudCkgbXNnRWxlbWVudC5pbm5lclRleHQgPSAnJzsgICAgXHJcblxyXG4gICAgdmFyIGNlcFVSTCA9ICdodHRwczovL3ZpYWNlcC5jb20uYnIvd3MvJyArIGNlcCArICcvanNvbi8nO1xyXG4gICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpLFxyXG4gICAgICAgIG1ldGhvZCA9IFwiR0VUXCI7XHJcbiAgICB4aHIub3BlbihtZXRob2QsIGNlcFVSTCwgdHJ1ZSk7XHJcbiBcdHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xyXG4gICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IHNldENFUERhdGFWYWx1ZS5iaW5kKG51bGwsIHhocik7XHJcbiAgICB4aHIuc2VuZCgpOyBcclxuICAgIGZ1bmN0aW9uIHNldENFUERhdGFWYWx1ZSh4aHIpe1xyXG4gICAgICAgIGlmKG1zZ0VsZW1lbnQpIG1zZ0VsZW1lbnQuaW5uZXJUZXh0ID0gJyc7ICAgXHJcbiAgICAgICAgaWYoeGhyLnJlYWR5U3RhdGUgPT09IFhNTEh0dHBSZXF1ZXN0LkRPTkUgJiYgeGhyLnN0YXR1cyA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHhoci5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCk7XHJcbiAgICAgICAgICAgIHNldEZpZWxkVmFsdWUoXCIjRW5kZXJlY29cIiwgZGF0YS5sb2dyYWRvdXJvKTtcclxuICAgICAgICAgICAgZGF0YS5jb21wbGVtZW50byAmJiBzZXRGaWVsZFZhbHVlKFwiI0NvbXBsZW1lbnRvXCIsIGRhdGEuY29tcGxlbWVudG8pO1xyXG4gICAgICAgICAgICBkYXRhLmJhaXJybyAmJiBzZXRGaWVsZFZhbHVlKFwiI0JhaXJyb1wiLCBkYXRhLmJhaXJybyk7XHJcbiAgICAgICAgICAgIHNldEZpZWxkVmFsdWUoXCIjQ2lkYWRlXCIsIGRhdGEubG9jYWxpZGFkZSk7XHJcbiAgICAgICAgICAgIHNldEZpZWxkVmFsdWUoXCIjVUZcIiwgZGF0YS51Zik7IFxyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2VwLXdyYXAgLmxvYWRpbmcubm90LWZvdW5kJylbMF0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jZXAtd3JhcCAubG9hZGluZy5zZWFyY2hpbmcnKVswXS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsgICAgICAgICAgICBcclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNlcC13cmFwIC5sb2FkaW5nLnZhbGlkYS1vaycpWzBdLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAvL1RPRE86IHNob3cgJ0NFUCBub3QgZm91bmQnXHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jZXAtd3JhcCAubG9hZGluZy5ub3QtZm91bmQnKVswXS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNlcC13cmFwIC5sb2FkaW5nLnNlYXJjaGluZycpWzBdLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOyAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2VwLXdyYXAgLmxvYWRpbmcudmFsaWRhLW9rJylbMF0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgIG1zZ0VsZW1lbnQuaW5uZXJUZXh0ID0gJyBvIGNlcCBuw6NvIGZvaSBlbmNvbnRyYWRvLic7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBmdW5jdGlvbiBzZXRGaWVsZFZhbHVlKGZpZWxkSWQsIG5ld1ZhbHVlKXtcclxuICAgICAgICAgICAgdmFyIGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihmaWVsZElkKTtcclxuICAgICAgICAgICAgaWYoZWwpIGVsLnZhbHVlID0gbmV3VmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfSAgICBcclxuICAgIHJldHVybiB4aHI7Ly9Ob3QgbmVjZXNzYXJ5KHlldCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHZhbGlkYXJEYXRhKGRhdGFWYWwpe1xyXG4gICAgdmFyIGRhdGFTdHIgPSAgZGF0YVZhbC5yZXBsYWNlKC9cXEQvZywgJy0nKTtcclxuICAgIHZhciBmb3JtYXQxID0gL15cXGRcXGRbXFxcXC1dXFxkXFxkW1xcXFwtXVxcZFxcZFxcZFxcZCQvLnRlc3QoZGF0YVN0cik7XHJcbiAgICBpZihmb3JtYXQxKSBkYXRhU3RyID0gZGF0YVN0ci5zcGxpdCgnLScpLnJldmVyc2UoKS5qb2luKCctJyk7XHJcblxyXG4gICAgdmFyIHZhbGlkRm9ybWF0ID0gL15cXGRcXGRcXGRcXGRbXFxcXC1dXFxkXFxkW1xcXFwtXVxcZFxcZCQvLnRlc3QoZGF0YVN0cik7ICAgIFxyXG5cclxuICAgIGlmKCF2YWxpZEZvcm1hdCkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICB2YXIgZGF0YSA9IG5ldyBEYXRlKGRhdGVTdHIpO1xyXG4gICAgcmV0dXJuIChkYXRhIGluc3RhbmNlb2YgRGF0ZSAmJiBpc0Zpbml0ZShkYXRhKSkgO1xyXG59XHJcbmZ1bmN0aW9uIERhdGFOYXNjS2V5VXAoZWxlbWVudCl7XHJcbiAgICB2YXIgbXNnRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLW1lc3NhZ2UtZm9yPVwiJyArIGVsZW1lbnQuaWQgKyAnXCJdJylbMF07XHJcbiAgICBpZihtc2dFbGVtZW50KSBtc2dFbGVtZW50LmlubmVyVGV4dCA9ICcnO1xyXG5cclxuICAgIGlmKCF2YWxpZGFyRGF0YShlbGVtZW50LnZhbHVlKSl7XHJcbiAgICAgICAgaWYobXNnRWxlbWVudCkgbXNnRWxlbWVudC5pbm5lclRleHQgPSAnIGRhdGEgaW52w6FsaWRhLic7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gb25Gb3JtU3VibWl0KCl7XHJcbiAgICAvL0ZpZWxkcyB0byB2YWxpZGF0ZTpcclxuICAgIHZhciBlcnJvck1lc3NhZ2VzID0gXCJcIjtcclxuICAgIHZhciBmb3JtTXNnRWwgPSAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZvcm0tbWVzc2FnZXMnKVswXTtcclxuICAgIGZvcm1Nc2dFbC5pbm5lclRleHQgPSAnJztcclxuXHJcbiAgICB2YXIgbm9tZUVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ05vbWUnKTtcclxuICAgIHZhciBub21lVmFsID0gbm9tZUVsLnZhbHVlIHx8ICcnO1xyXG4gICAgaWYobm9tZVZhbC5sZW5ndGggPCBub21lRWwuZ2V0QXR0cmlidXRlKCdtaW5sZW5ndGgnKSl7XHJcbiAgICAgICAgZXJyb3JNZXNzYWdlcyA9IFwiRmF2b3IgY29ycmlnaXIgb3MgY2FtcG9zIGludsOhbGlkb3NcIjtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgc29icmVub21lRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnU29icmVub21lJyk7XHJcbiAgICB2YXIgc29icmVub21lVmFsID0gc29icmVub21lRWwudmFsdWUgfHwgJyc7XHJcbiAgICBpZihzb2JyZW5vbWVWYWwubGVuZ3RoIDwgc29icmVub21lRWwuZ2V0QXR0cmlidXRlKCdtaW5sZW5ndGgnKSlcclxuICAgICAgICAgZXJyb3JNZXNzYWdlcyA9IFwiRmF2b3IgY29ycmlnaXIgb3MgY2FtcG9zIGludsOhbGlkb3NcIjtcclxuXHJcbiAgICB2YXIgZ2VuZXJvRWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW25hbWU9XCJHZW5lcm9cIl06Y2hlY2tlZCcpO1xyXG4gICAgdmFyIGdlbmVyb1ZhbCA9IGdlbmVyb0Vscy5sZW5ndGggJiYgZ2VuZXJvRWxzWzBdLnZhbHVlIHx8ICcnO1xyXG4gICAgaWYoIWdlbmVyb1ZhbClcclxuICAgICAgICAgZXJyb3JNZXNzYWdlcyA9IFwiTyBjYW1wbyBHw6puZXJvIMOpIG9icmlnYXTDs3Jpby5cIjtcclxuXHJcblxyXG4gICAgdmFyIGRhdGFOYXNjaW1lbnRvRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnRGF0YU5hc2NpbWVudG8nKTtcclxuICAgIHZhciBkYXRhTmFzY2ltZW50b1ZhbCA9ICBkYXRhTmFzY2ltZW50b0VsLnZhbHVlIHx8ICcnO1xyXG4gICAgLypcclxuICAgIGlmKGRhdGFOYXNjaW1lbnRvVmFsIDwgZGF0YU5hc2NpbWVudG9FbC5nZXRBdHRyaWJ1dGUoJ21pbicpKVxyXG4gICAgICAgIGVycm9yTWVzc2FnZXMgPSAnQSBkYXRhIGRlIG5hc2NpbWVudG8gZGV2ZSBzZXIgaWd1YWwgb3UgbWFpb3IgcXVlICcgKyBkYXRhTmFzY2ltZW50b0VsLmdldEF0dHJpYnV0ZSgnbWluJyk7XHJcbiAgICBpZihkYXRhTmFzY2ltZW50b1ZhbCA+IGRhdGFOYXNjaW1lbnRvRWwuZ2V0QXR0cmlidXRlKCdtYXgnKSlcclxuICAgICAgICBlcnJvck1lc3NhZ2VzID0gJ0EgZGF0YSBkZSBuYXNjaW1lbnRvIG7Do28gZGV2ZSBzZXIgbWFpb3IgcXVlICcgKyBkYXRhTmFzY2ltZW50b0VsLmdldEF0dHJpYnV0ZSgnbWF4Jyk7XHJcbiAgICAqL1xyXG5cclxuICAgIHZhciBFbWFpbEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0VtYWlsJyk7XHJcbiAgICB2YXIgRW1haWxWYWwgPSBFbWFpbEVsLnZhbHVlIHx8ICcnO1xyXG4gICAgdmFyIENvbmZpcm1lRW1haWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnQ29uZmlybWVFbWFpbCcpLnZhbHVlIHx8ICcnOy8vSsOhIHZhbGlkYWRvXHJcbiAgICB2YXIgQ2VsdWxhckVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0NlbHVsYXInKTtcclxuICAgICAgICB2YXIgQ2VsdWxhclZhbCA9IENlbHVsYXJFbC52YWx1ZSB8fCAnJztcclxuICAgICAgICBpZighQ2VsdWxhclZhbClcclxuICAgICAgICAgICAgZXJyb3JNZXNzYWdlcyA9IFwiTyBjYW1wbyBDZWx1bGFyIMOpIG9icmlnYXTDs3Jpb1wiO1xyXG5cclxuICAgIHZhciBUZWxlZm9uZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdUZWxlZm9uZScpLnZhbHVlIHx8ICcnOy8vT3BjaW9uYWxcclxuICAgIHZhciBDUEZFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdDUEYnKTsvL0rDoSB2YWxpZGFkb1xyXG4gICAgdmFyIENGUFZhbCA9IChDUEZFbC52YWx1ZSB8fCAnJykudHJpbSgpLnJlcGxhY2UoJy0nLCAnJyk7XHJcbiAgICAgICAgdmFyIGVtYWlsSXNWYWxpZCA9IHZhbGlkYUVtYWlsKEVtYWlsVmFsKTtcclxuICAgICAgICB2YXIgY3BmSXNWYWxpZCA9IHZhbGlkYXJDUEYoQ0ZQVmFsKTtcclxuICAgICAgICBpZighZW1haWxJc1ZhbGlkIHx8ICFjb25maXJtYUVtYWlsKCkgfHwgIWNwZklzVmFsaWQpXHJcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZXMgPSBcIkZhdm9yIGNvcnJpZ2lyIG9zIGNhbXBvcyBpbnbDoWxpZG9zXCI7XHJcbiAgICAgICAgaWYoIUNGUFZhbClcclxuICAgICAgICAgICAgZXJyb3JNZXNzYWdlcyA9IFwiTyBjYW1wbyBDUEYgw6kgb2JyaWdhdMOzcmlvXCI7XHJcbiAgICAgICAgXHJcbiAgICB2YXIgQ0VQRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnQ0VQJyk7XHJcbiAgICAgdmFyIENFUFZhbCA9IENFUEVsLnZhbHVlIHx8ICcnO1xyXG4gICAgIGlmKCFDRVBWYWwpXHJcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZXMgPSBcIk8gY2FtcG8gQ0VQIMOpIG9icmlnYXTDs3Jpb1wiO1xyXG5cclxuXHJcbiAgICB2YXIgRW5kZXJlY29FbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdFbmRlcmVjbycpO1xyXG4gICAgdmFyIEVuZGVyZWNvVmFsID0gRW5kZXJlY29FbC52YWx1ZSB8fCAnJztcclxuICAgICBpZighRW5kZXJlY29WYWwpXHJcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZXMgPSBcIk8gY2FtcG8gRW5kZXJlw6dvIMOpIG9icmlnYXTDs3Jpb1wiO1xyXG5cclxuICAgIHZhciBOdW1lcm9FbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdOdW1lcm8nKTtcclxuICAgIHZhciBOdW1lcm9WYWwgPSBOdW1lcm9FbC52YWx1ZSB8fCAnJztcclxuICAgICBpZighTnVtZXJvVmFsKVxyXG4gICAgICAgICAgICBlcnJvck1lc3NhZ2VzID0gXCJPIGNhbXBvIE7Dum1lcm8gw6kgb2JyaWdhdMOzcmlvXCI7XHJcblxyXG4gICAgdmFyIENvbXBsZW1lbnRvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0NvbXBsZW1lbnRvJykudmFsdWUgfHwgJyc7XHJcbiAgICB2YXIgQmFpcnJvRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnQmFpcnJvJyk7XHJcbiAgICB2YXIgQmFpcnJvVmFsID0gQmFpcnJvRWwudmFsdWUgfHwgJyc7XHJcbiAgICBpZighQmFpcnJvVmFsKVxyXG4gICAgICAgICAgICBlcnJvck1lc3NhZ2VzID0gXCJPIGNhbXBvIEJhaXJybyDDqSBvYnJpZ2F0w7NyaW9cIjtcclxuXHJcbiAgICB2YXIgQ2lkYWRlRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnQ2lkYWRlJyk7XHJcbiAgICB2YXIgQ2lkYWRlVmFsID0gQ2lkYWRlRWwudmFsdWUgfHwgJyc7XHJcbiAgICBpZighQ2lkYWRlVmFsKVxyXG4gICAgICAgICAgICBlcnJvck1lc3NhZ2VzID0gXCJPIGNhbXBvIENpZGFkZSDDqSBvYnJpZ2F0w7NyaW9cIjtcclxuXHJcbiAgICB2YXIgVUZFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdVRicpO1xyXG4gICAgdmFyIFVGVmFsID0gVUZFbC52YWx1ZSB8fCAnJztcclxuICAgIGlmKCFVRlZhbClcclxuICAgICAgICAgICAgZXJyb3JNZXNzYWdlcyA9IFwiTyBjYW1wbyBVRiDDqSBvYnJpZ2F0w7NyaW9cIjtcclxuXHJcbiAgICB2YXIgQW5leG8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnQW5leG8nKS5maWxlc1swXSB8fCAnJztcclxuXHJcbiAgICBpZihlcnJvck1lc3NhZ2VzID09ICcnKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhZGFzdHJvLXVzdWFyaW8nKS5zdWJtaXQoKTtcclxuICAgICAgICBhbGVydChcIkZvcm11bMOhcmlvIHNhbHZvIGNvbSBzdWNlc3NvIVwiKTtcclxuICAgIH1cclxuICAgIGVsc2UgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZvcm0tbWVzc2FnZXMnKVswXS5pbm5lclRleHQgPSBlcnJvck1lc3NhZ2VzO1xyXG4gICAgLy9kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybS1tZXNzYWdlcycpWzBdLmlubmVyVGV4dCA9ICdQbGVhc2UgbWFrZSBzdXJlIGFsbCB5b3VyIGZpZWxkcyBhcmUgdmFsaWQnO1xyXG59XHJcblxyXG5cclxuLypcclxuXHJcblxyXG4gICAgdmFyIE5vbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnTm9tZScpLnZhbHVlO1xyXG4gICAgdmFyIFNvYnJlbm9tZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdTb2JyZW5vbWUnKS52YWx1ZTtcclxuICAgIHZhciBEYXRhTmFzY2ltZW50byA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdEYXRhTmFzY2ltZW50bycpLnZhbHVlO1xyXG4gICAgdmFyIEVtYWlsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0VtYWlsJykudmFsdWU7XHJcbiAgICB2YXIgQ29uZmlybWVFbWFpbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdDb25maXJtZUVtYWlsJykudmFsdWU7XHJcbiAgICB2YXIgQ2VsdWxhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdDZWx1bGFyJykudmFsdWU7XHJcbiAgICB2YXIgVGVsZWZvbmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnVGVsZWZvbmUnKS52YWx1ZTtcclxuICAgIHZhciBDUEYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnQ1BGJykudmFsdWU7XHJcbiAgICB2YXIgQ0VQID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0NFUCcpLnZhbHVlO1xyXG4gICAgdmFyIEVuZGVyZWNvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0VuZGVyZWNvJykudmFsdWU7XHJcbiAgICB2YXIgQ29tcGxlbWVudG8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnQ29tcGxlbWVudG8nKS52YWx1ZTtcclxuICAgIHZhciBCYWlycm8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnQmFpcnJvJykudmFsdWU7XHJcbiAgICB2YXIgQ2lkYWRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0NpZGFkZScpLnZhbHVlO1xyXG4gICAgdmFyIFVGID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1VGJykudmFsdWU7XHJcbiAgICB2YXIgQW5leG8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnQW5leG8nKS5maWxlc1swXTtcclxuXHJcblxyXG4qLyJdfQ==
